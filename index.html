<!DOCTYPE html>

<html>
	<head>
		<meta charset="UTF-8">
		<title>FMS_Cat - ツマミ怖くないっ！シンセ講座 第一回 オシレータ ( Saw, Square, Triangle, Sine )</title>
   		<link rel="stylesheet" href="./github-markdown.css">
		<style type="text/css">
			body
			{
				font-family: 'Helvetica Neue' , Helvetica , Arial , Verdana;
				background-color: #FFFFFF;
			}

			#article
			{
				position: fixed;
				top: 0px;
				left: 0px;
				padding: 16px;
				margin: 0px;
				overflow-x: hidden;
				overflow-y: scroll;
			}

			#synth
			{
				position: fixed;
				bottom: 0px;
				left: 0px;
				padding: 8px;
				margin: 8px;
				width: 640px;
				height: 240px;
				background-color: #222222;
			}

			#console
			{
				position: fixed;
				bottom: 0px;
				right: 0px;
				padding: 8px;
				margin: 8px;
				height: 240px;
				color: #FFFFFF;
				background-color: #222222;
				overflow: hidden;
			}

			.synthKey
			{
				position: absolute;
				text-align: center;
				padding: 0px;
				width:40px;
				height:40px;
				font-size: 32px;
				opacity: .5;
			}
		</style>
	</head>
	<body>
		<div id="article" class="markdown-body" style="width:640px;height:320px;">
#ツマミ怖くないっ！シンセ講座

ここは、シンセサイザー楽しそう！でもツマミがたくさんでどう使えばいいか全然わからない…という人向けのサイトです。  
最終的には、PCで動くフリーのシンセである [Synth1](http://www.geocities.jp/daichi1969/softsynth/) の機能を全て網羅できればと思っています。

このサイトの特徴は **Web上で動く簡易シンセ** です。各回の内容に沿ったシンセをWeb上で動かしながら学ぶことができるようになっています。  
**音が鳴るので音量には注意してください。**
画面左下がシンセのパネルとなっています。[最初](./1.html)はボタンが4つしかありません。わあびっくり。  
画面右下がシンセのコンソールログとなっています。コンソールログは、各回において重要となる情報を緑色でハイライトします。  
シンセの演奏はキーボードで行います。ガチャガチャ押してれば音は出ますが、とりあえずZを押すと低いドが出ると思います。

余談ですが、ここのシンセを作るのに [timbre.js](http://mohayonao.github.io/timbre.js/ja/) というJavaScriptのライブラリを使っています。  
JS自体今まであまり触ったことがないので、僕自身も勉強になってとてもいい感じです（吐血）

本記事は自分の偏見や勘違いなどを含んでいるかもしれませんので、シンセに詳しい方等いらっしゃれば、よろしければ [@FMS_Cat](http://twitter.com/FMS_Cat/) に意見をください。  
また、プログラムのバグなどにお気づきの方、意見をお持ちの方も連絡をお願いします。  
また、わかりづらい・ここがわからない等の質問・苦情も受け付けます。

Windows 8.1上のGoogle Chromeにて動作確認

##[第一回 オシレータ](./1.html) <span style="font-size:16px;">( Saw, Square, Triangle, Sine )</span>
		</div>

		<div style="position:fixed;bottom:0px;left:0px;margin:0px;padding:0px;width:100%;height:272px;background-color:#FFFFFF;">
			<div id="synth">
				<div class="synthKey" id="synthKey48" style="background:#DDDDDD;left:10px;bottom:10px;">z</div>
				<div class="synthKey" id="synthKey49" style="background:#666666;color:#FFFFFF;left:35px;bottom:60px;">s</div>
				<div class="synthKey" id="synthKey50" style="background:#DDDDDD;left:60px;bottom:10px;">x</div>
				<div class="synthKey" id="synthKey51" style="background:#666666;color:#FFFFFF;left:85px;bottom:60px;">d</div>
				<div class="synthKey" id="synthKey52" style="background:#DDDDDD;left:110px;bottom:10px;">c</div>
				<div class="synthKey" id="synthKey53" style="background:#DDDDDD;left:160px;bottom:10px;">v</div>
				<div class="synthKey" id="synthKey54" style="background:#666666;color:#FFFFFF;left:185px;bottom:60px;">g</div>
				<div class="synthKey" id="synthKey55" style="background:#DDDDDD;left:210px;bottom:10px;">b</div>
				<div class="synthKey" id="synthKey56" style="background:#666666;color:#FFFFFF;left:235px;bottom:60px;">h</div>
				<div class="synthKey" id="synthKey57" style="background:#DDDDDD;left:260px;bottom:10px;">n</div>
				<div class="synthKey" id="synthKey58" style="background:#666666;color:#FFFFFF;left:285px;bottom:60px;">j</div>
				<div class="synthKey" id="synthKey59" style="background:#DDDDDD;left:310px;bottom:10px;">m</div>
				<div class="synthKey" id="synthKey60a" style="background:#DDDDDD;left:360px;bottom:10px;">,</div>
				<div class="synthKey" id="synthKey61a" style="background:#666666;color:#FFFFFF;left:385px;bottom:60px;">l</div>
				<div class="synthKey" id="synthKey62a" style="background:#DDDDDD;left:410px;bottom:10px;">.</div>
				<div class="synthKey" id="synthKey63a" style="background:#666666;color:#FFFFFF;left:435px;bottom:60px;">;</div>
				<div class="synthKey" id="synthKey64a" style="background:#DDDDDD;left:460px;bottom:10px;">/</div>

				<div class="synthKey" id="synthKey60" style="background:#DDDDDD;left:10px;bottom:110px;">q</div>
				<div class="synthKey" id="synthKey61" style="background:#666666;color:#FFFFFF;left:35px;bottom:160px;">2</div>
				<div class="synthKey" id="synthKey62" style="background:#DDDDDD;left:60px;bottom:110px;">w</div>
				<div class="synthKey" id="synthKey63" style="background:#666666;color:#FFFFFF;left:85px;bottom:160px;">3</div>
				<div class="synthKey" id="synthKey64" style="background:#DDDDDD;left:110px;bottom:110px;">e</div>
				<div class="synthKey" id="synthKey65" style="background:#DDDDDD;left:160px;bottom:110px;">r</div>
				<div class="synthKey" id="synthKey66" style="background:#666666;color:#FFFFFF;left:185px;bottom:160px;">5</div>
				<div class="synthKey" id="synthKey67" style="background:#DDDDDD;left:210px;bottom:110px;">t</div>
				<div class="synthKey" id="synthKey68" style="background:#666666;color:#FFFFFF;left:235px;bottom:160px;">6</div>
				<div class="synthKey" id="synthKey69" style="background:#DDDDDD;left:260px;bottom:110px;">y</div>
				<div class="synthKey" id="synthKey70" style="background:#666666;color:#FFFFFF;left:285px;bottom:160px;">7</div>
				<div class="synthKey" id="synthKey71" style="background:#DDDDDD;left:310px;bottom:110px;">u</div>
				<div class="synthKey" id="synthKey72" style="background:#DDDDDD;left:360px;bottom:110px;">i</div>
				<div class="synthKey" id="synthKey73" style="background:#666666;color:#FFFFFF;left:385px;bottom:160px;">9</div>
				<div class="synthKey" id="synthKey74" style="background:#DDDDDD;left:410px;bottom:110px;">o</div>
				<div class="synthKey" id="synthKey75" style="background:#666666;color:#FFFFFF;left:435px;bottom:160px;">0</div>
				<div class="synthKey" id="synthKey76" style="background:#DDDDDD;left:460px;bottom:110px;">p</div>
				<div class="synthKey" id="synthKey77" style="background:#DDDDDD;left:510px;bottom:110px;">@</div>
				<div class="synthKey" id="synthKey78" style="background:#666666;color:#FFFFFF;left:535px;bottom:160px;">^</div>
				<div class="synthKey" id="synthKey79" style="background:#DDDDDD;left:560px;bottom:110px;">[</div>
			</div>
			<div id="console" style="width: 0px;visibility:visible;">
			</div>
		</div>

		<script src="./js/marked.js"></script>
		<script src="./js/timbre.js" type="text/javascript"></script>
		<script src="./js/k2n.js" type="text/javascript"></script>
		<script>
			document.getElementById("article").innerHTML=marked(document.getElementById("article").innerHTML);

			function resize()
			{
				document.getElementById("article").style.width=""+(window.innerWidth-32)+"px";
				document.getElementById("article").style.height=""+(window.innerHeight-272-32)+"px";
				if(window.innerWidth-640-32-24<16)
				{
					document.getElementById("console").style.visibility="hidden";
				}
				else
				{
					document.getElementById("console").style.visibility="visible";
					document.getElementById("console").style.width=""+(window.innerWidth-640-32-24)+"px";
				}
			}
			resize();
			window.onresize=resize;

			var conRow=0;
			function con(str,clr)
			{
				var temp=document.getElementById("console").innerHTML;
				document.getElementById("console").innerHTML=temp+"<span style=\"color:"+clr+";\">"+str+"</span><br>";
				var temp=document.getElementById("console").innerHTML;
				conRow++;
				if(13<conRow)
				{
					conRow--;
					document.getElementById("console").innerHTML=temp.slice(temp.indexOf("<br>")+4);
				}
			}

			var osc,env;
			var osc=T("saw");
			var env=T("adsr",{a:10,d:10,s:1.,r:10});
			var synth=T("OscGen",{osc:osc,env:env,mul:.25}).play();

			var isOn=[];
			for(var c=0;c<80;c++)
			{
				isOn.push(false);
			}

			document.onkeydown=function()
			{
				var note=k2n(window.event.keyCode);
				if(note!==0&&!(isOn[note]))
				{
					synth.noteOn(note,64);
					isOn[note]=true;
					con("note on: "+note,"#FFFFFF");
				}
				document.getElementById("synthKey"+note).style.opacity=".99";
			}

			document.onkeyup=function()
			{
				var note=k2n(window.event.keyCode);
				if(note!==0&&isOn[note])
				{
					synth.noteOff(note,64);
					isOn[note]=false;
					con("note off: "+note,"#BBBBBB");
				}
				document.getElementById("synthKey"+note).style.opacity=".5";
			}
		</script>
	</body>
</html>